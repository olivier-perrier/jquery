{{> base}}

{{> header}}


<input type="hidden" id="postId" name="postId" value="{{post._id}}">


<div class="container">
    <div class="card flex-md-row mb-4 shadow-sm h-md-250">
        <div class="card-body d-flex flex-column align-items-start">
            <h3 class="mb-3">
                <a href="#">{{post.name}}</a>
            </h3>
            <div class="mb-1 text-muted">{{post.createdAt}}</div>
            <p id="postContent" class="card-text mb-auto">{{{post.content}}}</p>
            <a href="#">Continue reading</a>
        </div>
    </div>

    <a href="edit/{{post._id}}" class="btn btn-light">Edit</a>
    <button href="/posts" id="postDelete" class="btn btn-light">Delete</button>

</div>

<a href="/posts">All posts</a>

{{> footer}}



<script>

    $(() => {

        $("#postDelete").click(() => {

            var postId = $('#postId').val()

            $.post(URL + "/posts/delete/" + postId, {}, (data, statut) => {
                console.log(data)
                window.location = "/posts"
            })
        })

    })

</script>