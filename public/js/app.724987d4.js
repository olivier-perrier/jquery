(function(t){function s(s){for(var a,i,r=s[0],c=s[1],l=s[2],p=0,m=[];p<r.length;p++)i=r[p],o[i]&&m.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(s);while(m.length)m.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(a=!1)}a&&(n.splice(s--,1),t=i(i.s=e[0]))}return t}var a={},o={app:0},n=[];function i(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)i.d(e,a,function(s){return t[s]}.bind(null,a));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"56d7":function(t,s,e){"use strict";e.r(s);e("6b54"),e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],i={name:"App",components:{}},r=i,c=e("2877"),l=Object(c["a"])(r,o,n,!1,null,null,null),u=l.exports,p=e("8c4f"),m=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("MyHeader"),e("router-view"),e("MyFooter")],1)},d=[],v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e("img",{attrs:{src:"/img/icon.png",width:"30",height:"30",alt:""}})]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[e("ul",{staticClass:"navbar-nav"},t._l(t.menus,(function(s){return e("li",{key:s.id,staticClass:"nav-item"},["direct"==s.type?e("a",{staticClass:"nav-link",attrs:{href:s.link}},[t._v(t._s(s.title))]):"posts"==s.type||"post"==s.type?e("router-link",{staticClass:"nav-link",attrs:{to:"/"+s.link}},[t._v(t._s(t._f("capitalize")(s.title)))]):"post"==s.type?e("router-link",{staticClass:"nav-link",attrs:{to:"/"+s.link}},[t._v(t._s(s.title))]):t._e()],1)})),0),e("div",{staticClass:"navbar-nav border rounded text-right pr-1"},[t.currentUser?e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/logout"}},[t._v("Logout")]):e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/login"}},[t._v("Login")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/admin"}},[t._v("Admin")]),t.currentUser?e("span",{staticClass:"nav-item nav-link"},[t._v(t._s(t.currentUser.firstname))]):t._e()],1)])],1)])},h=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],f=e("bc3a"),_=e.n(f),g={name:"MyHeader",data:function(){return{menus:[],currentUser:{}}},mounted:function(){var t=this;_.a.get("http://localhost:3000/API/menus").then((function(s){t.menus=s.data.posts})),_.a.get("http://localhost:3000/API/currentUser").then((function(s){t.currentUser=s.data.currentUser}))},watch:{$route:function(){var t=this;_.a.get("http://localhost:3000/API/currentUser").then((function(s){t.currentUser=s.data.currentUser}))}}},y=g,C=Object(c["a"])(y,v,h,!1,null,"3232c40d",null),b=C.exports,T=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",{staticClass:"footer mt-auto py-3 text-center"},[e("div",{staticClass:"container"},[e("span",{staticClass:"text-muted"},[t._v("Olivier Perrier - Powered by OPSI 2020")]),e("div",[e("a",{attrs:{href:"#"}},[t._v("Back to top")])])])])}],P={name:"MyFooter",data:function(){return{}},mounted:function(){},watch:{}},w=P,S=(e("f503"),Object(c["a"])(w,T,x,!1,null,"214b906e",null)),k=S.exports,$={name:"app",components:{MyHeader:b,MyFooter:k},data:function(){return{}},methods:{test:function(){_.a.post("http://localhost:3000/API/test")}},mounted:function(){}},N=$,I=Object(c["a"])(N,m,d,!1,null,null,null),O=I.exports,A=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("main",{staticClass:"inner cover",attrs:{role:"main"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"text-center my-5"},[e("h1",{staticClass:"cover-heading"},[t._v("Welcome to OPSI")]),e("p",{staticClass:"lead"},[t._v("Cover is a one-page template for building simple and beautiful home pages. Download, edit the text, and add your own fullscreen background photo to make it your own.")]),e("p",{staticClass:"lead"},[e("a",{staticClass:"btn btn-lg btn-secondary",attrs:{href:"#"}},[t._v("Learn more")])])])]),e("section",{attrs:{id:"services"}},[e("div",{staticClass:"container pt-5"},[e("div",{staticClass:"text-center mb-3"},[e("h2",{staticClass:"section-heading"},[t._v("A propos")]),e("h3",{staticClass:"text-muted"},[t._v("OPSI est un système de gestion de système d'information")])]),e("div",{staticClass:"card-deck text-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("i",{staticClass:"fa fa-child"}),e("h4",{staticClass:"service-heading"},[t._v("IHM")]),e("p",{staticClass:"text-muted"},[t._v("Porté vers le client, le système sera toujours mettre l'intuition au coeur de la technologie pour une gestion accéssible à tout moment et pour tous.")])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("i",{staticClass:"far fa-gear"}),e("h4",{staticClass:"service-heading"},[t._v("Adaptabilité")]),e("p",{staticClass:"text-muted"},[t._v("Toujours extensible et adapté pour absolument toutes les applications.")])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("i",{staticClass:"fa fa-laptop"}),e("h4",{staticClass:"service-heading"},[t._v("Ouvert")]),e("p",{staticClass:"text-muted"},[t._v("Ouvert pour l'évolution et l'intégration de pluginet de nouvelles fonctionnalités pour le future.")])])])])])])])])}],E={name:"Home",components:{},data:function(){return{posts:String}},mounted:function(){var t=this;_.a.get("http://localhost:3000/API/posts").then((function(s){t.posts=s.data.posts}))}},z=E,F=Object(c["a"])(z,A,j,!1,null,null,null),M=F.exports,U=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container my-5"},t._l(t.posts,(function(s){return e("article",{key:s._id,staticClass:"mb-3"},[e("header"),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[e("router-link",{attrs:{to:t.customTypeName+"/"+s._id}},[t._v(t._s(s.title||"-"))])],1),e("p",{staticClass:"card-text"},[t._v(t._s(s.content))]),e("p",{staticClass:"card-text"},[e("small",{staticClass:"text-muted"},[t._v(t._s(s.createdAt))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("router-link",{attrs:{to:"posts?categories="+s.categories}},[t._v(t._s(s.categories))]),e("router-link",{attrs:{to:"posts?tags="+s.tags}},[t._v(t._s(s.tags))])],1),e("router-link",{attrs:{to:"posts?users="+s.authorId}},[t._v(t._s(s.authorId))])],1)]),e("footer")])})),0)},D=[],H={name:"posts",components:{},data:function(){return{customTypeName:"",posts:[]}},methods:{mountPosts:function(){var t=this;this.customTypeName=this.$route.params.customTypeName,_.a.get("http://localhost:3000/API/"+this.customTypeName).then((function(s){t.posts=s.data.posts}))}},mounted:function(){this.mountPosts()},watch:{$route:function(){this.mountPosts()}}},L=H,J=Object(c["a"])(L,U,D,!1,null,null,null),R=J.exports,W=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container py-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col mb-9"},[e("h1",[t._v(t._s(t.post.title))]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.post.title))]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.post.title))]),e("p",{staticClass:"card-text"},[t._v(t._s(t.post.content))])]),e("div",{staticClass:"card-footer text-muted"},[t._v(t._s(t.post.createdAt))])])]),e("div",{staticClass:"col mb-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"pb-5"},[e("h5",{staticClass:"card-title"},[t._v("Le "+t._s(t.post.createdAt))]),e("h5",{staticClass:"card-title"},[t._v("Ecrit par "+t._s(t.post.authorId))])]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.post.categories,expression:"post.categories"}],staticClass:"card-text"},[t._v("Cathégories "+t._s(t.post.categories))]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.post.tags,expression:"post.tags"}],staticClass:"card-text"},[t._v("Tags "+t._s(t.post.tags))])]),e("div",{staticClass:"card-footer text-muted"},[t._v(t._s(t.post.createdAt))])])])])])},B=[],V={name:"PostsDetails",components:{},data:function(){return{customTypeName:"",customType:{},post:{}}},mounted:function(){var t=this;this.customTypeName=this.$route.params.customTypeName;var s=this.$route.params.postId;_.a.get("http://localhost:3000/API/"+this.customTypeName+"/"+s).then((function(s){t.post=s.data.post})),this.mountPostType()},methods:{mountPostType:function(){var t=this;_.a.get("http://localhost:3000/API/customTypes/name/"+this.customTypeName).then((function(s){t.customType=s.data.post}))}}},Y=V,q=Object(c["a"])(Y,W,B,!1,null,null,null),G=q.exports,K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container py-3"},[e("h1",{staticClass:"py-3"},[t._v(t._s(t._f("capitalize")(t.customTypeName)))]),t._l(this.posts,(function(s){return e("div",{key:s._id,staticClass:"row row-cols-1 row-cols-md-2"},[e("div",{staticClass:"col mb-4"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top",attrs:{src:s.img,alt:s.img}}),e("div",{staticClass:"card-body"},[e("router-link",{attrs:{to:t.customTypeName+"/"+s._id}},[t._v(t._s(s.title||"-"))]),e("p",{staticClass:"card-text"},[t._v(t._s(s.content))])],1)])])])}))],2)},Q=[],X={name:"Page",components:{},data:function(){return{customTypeName:"pages",posts:[]}},methods:{mountPosts:function(){var t=this;_.a.get("http://localhost:3000/API/"+this.customTypeName).then((function(s){t.posts=s.data.posts}))}},mounted:function(){this.mountPosts()},watch:{$route:function(){this.mountPosts()}}},Z=X,tt=Object(c["a"])(Z,K,Q,!1,null,null,null),st=tt.exports,et=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container py-3"},[e("h1",{staticClass:"py-3"},[t._v(t._s(t._f("capitalize")(t.customTypeName)))]),e("div",{staticClass:"card-columns"},t._l(this.posts,(function(s){return e("div",{key:s._id,staticClass:"card"},[e("img",{staticClass:"card-img-top",attrs:{src:s.img,alt:s.img}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[e("router-link",{attrs:{to:t.customTypeName+"/"+s._id}},[t._v(t._s(s.firstname+" "+s.lastname||"-"))])],1),e("p",{staticClass:"card-text"},[e("small",{staticClass:"text-muted"},[t._v(t._s(t._f("capitalize")(s.role)))])])])])})),0)])},at=[],ot={name:"Users",components:{},data:function(){return{customTypeName:"users",posts:[]}},methods:{mountPosts:function(){var t=this;_.a.get("http://localhost:3000/API/"+this.customTypeName).then((function(s){t.posts=s.data.posts}))}},mounted:function(){this.mountPosts()},watch:{$route:function(){this.mountPosts()}}},nt=ot,it=Object(c["a"])(nt,et,at,!1,null,null,null),rt=it.exports,ct=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("admin-header"),e("div",{staticClass:"container"},[e("router-view")],1),e("footer",{staticClass:"text-center m-5"},[t._v("OP Admin by Olivier Perrier")])],1)},lt=[],ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin"}},[e("img",{staticClass:"d-inline-block align-top",attrs:{src:"/img/icon.png",width:"30",height:"30",alt:""}}),t._v("\n      OP Admin\n    ")]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[e("div",{staticClass:"navbar-nav mr-auto"},[t._l(t.menus,(function(s){return e("router-link",{key:s._id,staticClass:"nav-item nav-link border-left px-3",attrs:{to:"/admin/"+s.name}},[e("i",{class:s.icon}),t._v("\n          "+t._s(t._f("capitalize")(s.name))+"\n        ")])})),e("router-link",{staticClass:"nav-item nav-link border-left px-3",attrs:{to:"/admin/customTypes"}},[e("i",{staticClass:"fab fa-suse"}),t._v("\n          Custom\n        ")])],2),e("form",{staticClass:"form-inline"},[e("router-link",{staticClass:"btn btn-light",attrs:{to:"/",role:"button"}},[t._v("View site")])],1)])],1)])},pt=[],mt={name:"admin-header",components:{},data:function(){return{user:{},menus:[]}},methods:{},mounted:function(){var t=this;_.a.get("http://localhost:3000/API/adminMenus").then((function(s){t.menus=s.data.menus})),_.a.get("http://localhost:3000/API/user").then((function(s){t.user=s.data.user}))}},dt=mt,vt=Object(c["a"])(dt,ut,pt,!1,null,null,null),ht=vt.exports,ft={name:"app",components:{AdminHeader:ht},data:function(){return{posts:String}},mounted:function(){var t=this;_.a.get("http://localhost:3000/API/posts").then((function(s){t.posts=s.data.posts}))}},_t=ft,gt=Object(c["a"])(_t,ct,lt,!1,null,null,null),yt=gt.exports,Ct=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"custom-type-detail"},[e("h1",[t._v("Custom type")]),e("navigation-post",{attrs:{post:t.post,customType:t.customType}}),e("form",{staticClass:"my-3"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Name")]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.name,expression:"post.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.name},on:{input:function(s){s.target.composing||t.$set(t.post,"name",s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("Name of the custom type")])])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Setting")]),e("div",{staticClass:"col-sm-10"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.setting,expression:"post.setting"}],staticClass:"form-control",attrs:{type:"text",rows:"10"},domProps:{value:t.post.setting},on:{input:function(s){s.target.composing||t.$set(t.post,"setting",s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("Define setting of the custom type")])])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Icon")]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.icon,expression:"post.icon"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.icon},on:{input:function(s){s.target.composing||t.$set(t.post,"icon",s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("Font awesome icon html")])])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Order")]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.order,expression:"post.order"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.post.order},on:{input:function(s){s.target.composing||t.$set(t.post,"order",s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("Order for the menu")]),t._v("\n        "+t._s(typeof this.post.order)+"\n      ")])])])],1)},bt=[],Tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"navigation-post"},[e("div",{staticClass:"border rounded mt-3 p-1 d-flex justify-content-between"},[e("router-link",{staticClass:"btn btn-light",attrs:{to:"/admin/"+t.customType.name}},[t._v("Return")]),e("div",[e("button",{staticClass:"btn btn-success mx-3",attrs:{type:"button"},on:{click:t.save}},[t._v("Save")]),e("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.deletePost}},[t._v("Delete")])])],1)])},xt=[],Pt=(e("7f7f"),{name:"NavigationPost",components:{},props:["post","customType"],methods:{save:function(){var t=this;_.a.post("http://localhost:3000/API/"+this.customType.name+"/save",{postId:this.post._id,post:this.post}).then((function(s){s.data.num,t.$router.push("/admin/"+t.customType.name)}))},deletePost:function(){var t=this;_.a.post("http://localhost:3000/API/"+this.customType.name+"/delete",{postId:this.post._id}).then((function(s){t.$router.push("/admin/"+t.customType.name),s.data.num}))}}}),wt=Pt,St=Object(c["a"])(wt,Tt,xt,!1,null,null,null),kt=St.exports,$t={name:"custom-type-detail",components:{NavigationPost:kt},data:function(){return{post:{},customType:{name:"customTypes"},customTypeSettings:[]}},mounted:function(){var t=this,s=this.$route.params.id;_.a.get("http://localhost:3000/API/customTypes/"+s).then((function(s){t.post=s.data.post}))}},Nt=$t,It=Object(c["a"])(Nt,Ct,bt,!1,null,null,null),Ot=It.exports,At=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h2",{staticClass:"m-3"},[t._v("Custom type list")]),e("table",{staticClass:"table"},[e("col",{attrs:{width:"5%"}}),t._m(0),e("tbody",t._l(t.customTypes,(function(s){return e("tr",{key:s._id},[e("td",{staticClass:"text-muted"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.deleteCustomType(s._id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",[t._v(t._s(s.name))]),e("td",[e("router-link",{attrs:{to:{path:s._id},append:""}},[t._v(t._s(s._id))])],1),e("td",[t._v("\n          "+t._s(s.order)+"\n        ")])])})),0)]),e("button",{staticClass:"btn btn-light mt-3",on:{click:function(s){return t.createCustomType()}}},[t._v("Create")])])},jt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th"),e("th",[t._v("Name")]),e("th",[t._v("Id")]),e("th",[t._v("Order")])])])}],Et=(e("20d6"),{name:"custom-type",components:{},data:function(){return{customTypes:[]}},methods:{createCustomType:function(){var t=this;_.a.post("http://localhost:3000/API/customTypes/create",{}).then((function(s){t.customTypes.push(s.data.post),t.$router.push("/admin/customTypes/"+s.data.post._id)}))},deleteCustomType:function(t){var s=this;_.a.post("http://localhost:3000/API/customTypes/delete",{postId:t}).then((function(){var e=s.customTypes.findIndex((function(s){return s._id==t}));s.customTypes.splice(e,1)}))}},mounted:function(){var t=this;_.a.get("http://localhost:3000/API/customTypes").then((function(s){t.customTypes=s.data.customTypes}))}}),zt=Et,Ft=Object(c["a"])(zt,At,jt,!1,null,null,null),Mt=Ft.exports,Ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10"},[e("h2",{staticClass:"m-3"},[t._v(t._s(t._f("capitalize")(t.customType.name)))])]),e("div",{staticClass:"col-md-2"},[e("button",{staticClass:"btn btn-light mt-3",on:{click:function(s){return t.createPost()}}},[t._v("Create")])])]),e("table",{staticClass:"table"},[e("col",{attrs:{width:"5%"}}),e("thead",[e("tr",[e("th"),e("th",[t._v("Label")]),t._l(t.customTypeSettings,(function(s){return e("th",{key:s._id},[1==s.hideTab?e("div"):e("div",[t._v(t._s(t._f("capitalize")(s.name)))])])}))],2)]),e("tbody",t._l(t.posts,(function(s){return e("tr",{key:s._id},[e("td",[e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.deletePost(s._id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",[e("router-link",{attrs:{to:s._id,append:""}},[t._v(t._s(s[t.customTypeSettings[0].name]||"-"))])],1),t._l(t.customTypeSettings,(function(a){return e("td",{key:a._id},[1==a.hideTab?e("div"):e("div",[t._v(t._s(s[a.name]))])])}))],2)})),0)])])},Dt=[],Ht={components:{},data:function(){return{customType:{},customTypeSettings:[],posts:[]}},methods:{createPost:function(){var t=this;_.a.post("http://localhost:3000/API/"+this.customType.name+"/create",{}).then((function(s){t.posts.push(s.data.post),t.$router.push("/admin/"+t.customType.name+"/"+s.data.post._id)}))},deletePost:function(t){var s=this;_.a.post("http://localhost:3000/API/"+this.customType.name+"/delete",{postId:t}).then((function(){var e=s.posts.findIndex((function(s){return s._id==t}));s.posts.splice(e,1)}))},mountType:function(){var t=this,s=this.$route.params.customTypeName;_.a.get("http://localhost:3000/API/customTypes/name/"+s).then((function(s){t.customType=s.data.post,t.customTypeSettings=t.customType.setting}))},mountPosts:function(){var t=this,s=this.$route.params.customTypeName;_.a.get("http://localhost:3000/API/"+s).then((function(s){t.posts=s.data.posts}))}},mounted:function(){this.mountType(),this.mountPosts()},watch:{$route:function(){this.mountPosts(),this.mountType()}}},Lt=Ht,Jt=Object(c["a"])(Lt,Ut,Dt,!1,null,null,null),Rt=Jt.exports,Wt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h2",{staticClass:"m-3"},[t._v("Edit "+t._s(t._f("capitalize")(t.customType.name)))]),e("navigation-post",{attrs:{post:t.post,customType:t.customType}}),e("div",{staticClass:"p-3"},[e("form",t._l(t.customTypeSettings,(function(s){return e("div",{key:s._id},[e("Field"+(s.type||"String"),{tag:"component",attrs:{post:t.post,customTypeSetting:s}})],1)})),0)])],1)},Bt=[],Vt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"form-control",attrs:{type:"text",disabled:t.customTypeSetting.disabled},domProps:{value:t.post[t.customTypeSetting.name]},on:{input:function(s){s.target.composing||t.$set(t.post,t.customTypeSetting.name,s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},Yt=[],qt={components:{},props:["post","customTypeSetting"]},Gt=qt,Kt=Object(c["a"])(Gt,Vt,Yt,!1,null,null,null),Qt=Kt.exports,Xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"form-control",attrs:{type:"text",rows:"10"},domProps:{value:t.post[t.customTypeSetting.name]},on:{input:function(s){s.target.composing||t.$set(t.post,t.customTypeSetting.name,s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},Zt=[],ts={components:{},props:["post","customTypeSetting"]},ss=ts,es=Object(c["a"])(ss,Xt,Zt,!1,null,null,null),as=es.exports,os=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"custom-select",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.post,t.customTypeSetting.name,s.target.multiple?e:e[0])}}},t._l(t.options,(function(s){return e("option",{key:s.key,domProps:{value:s}},[t._v(t._s(s))])})),0),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},ns=[],is={components:{},props:["post","customTypeSetting"],data:function(){return{options:this.customTypeSetting.options}}},rs=is,cs=Object(c["a"])(rs,os,ns,!1,null,null,null),ls=cs.exports,us=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"form-control",attrs:{type:"text",disabled:t.customTypeSetting.disabled},domProps:{value:t.post[t.customTypeSetting.name]},on:{input:function(s){s.target.composing||t.$set(t.post,t.customTypeSetting.name,s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},ps=[],ms={components:{},props:["post","customTypeSetting"],data:function(){return{options:this.customTypeSetting.options}}},ds=ms,vs=Object(c["a"])(ds,us,ps,!1,null,null,null),hs=vs.exports,fs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.post[t.customTypeSetting.name]},on:{input:function(s){s.target.composing||t.$set(t.post,t.customTypeSetting.name,s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},_s=[],gs={components:{},props:["post","customTypeSetting"]},ys=gs,Cs=Object(c["a"])(ys,fs,_s,!1,null,null,null),bs=Cs.exports,Ts=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[t._v(t._s(t._f("capitalize")(t.customTypeSetting.name)))]),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.post[t.customTypeSetting.name],expression:"post[customTypeSetting.name]"}],staticClass:"custom-select",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.post,t.customTypeSetting.name,s.target.multiple?e:e[0])}}},t._l(t.targetPosts,(function(s){return e("option",{key:s.key,domProps:{value:s["_id"]}},[t._v(t._s(s[t.targetPostField]))])})),0),e("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.customTypeSetting.shemaDoc))])])])},xs=[],Ps={components:{},props:["post","customTypeSetting"],data:function(){return{options:this.customTypeSetting.options,targetPostType:{},targetPostField:{},targetPostId:{},targetPosts:[]}},methods:{getPosts:function(){var t=this;_.a.get("http://localhost:3000/API/"+this.targetPostType).then((function(s){t.targetPosts=s.data.posts}))}},mounted:function(){this.targetPostType=this.customTypeSetting.postType,this.targetPostField=this.customTypeSetting.postField,this.targetPostId=this.post[this.customTypeSetting.name],this.getPosts()}},ws=Ps,Ss=Object(c["a"])(ws,Ts,xs,!1,null,null,null),ks=Ss.exports,$s={components:{NavigationPost:kt,FieldString:Qt,FieldTextarea:as,FieldSelect:ls,FieldDate:hs,FieldPassword:bs,FieldRelationship:ks},data:function(){return{customType:{},customTypeSettings:[],post:{}}},methods:{},mounted:function(){var t=this,s=this.$route.params.customTypeName;_.a.get("http://localhost:3000/API/customTypes/name/"+s).then((function(s){t.customType=s.data.post,t.customTypeSettings=t.customType.setting}));var e=this.$route.params.id;_.a.get("http://localhost:3000/API/"+s+"/"+e).then((function(s){t.post=s.data.post}))}},Ns=$s,Is=Object(c["a"])(Ns,Wt,Bt,!1,null,null,null),Os=Is.exports,As=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5 "},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.show,expression:"alert.show"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Unknow username or password")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Your email"},domProps:{value:t.user.email},on:{input:function(s){s.target.composing||t.$set(t.user,"email",s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("We'll never share your email with anyone else.")])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}})]),t._m(0),e("button",{staticClass:"btn btn-primary mt-1",attrs:{type:"button"},on:{click:function(s){return t.login()}}},[t._v("Log in")])])])])])},js=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox"}}),e("label",{staticClass:"form-check-label"},[t._v("Stay login in")])])}],Es={components:{},data:function(){return{user:{email:"leperenoel38@hotmail.fr",password:"123"},alert:{show:!1}}},methods:{login:function(){var t=this;_.a.post("http://localhost:3000/API/login",{user:this.user}).then((function(s){s.data.user?t.$router.push("/"):t.alert.show=!0}))}}},zs=Es,Fs=Object(c["a"])(zs,As,js,!1,null,null,null),Ms=Fs.exports,Us=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},Ds=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5"},[e("div",{staticClass:"alert alert-succes",attrs:{role:"alert"}},[t._v("Succesfull logout")])])}],Hs={components:{},data:function(){return{}},mounted:function(){var t=this;_.a.post("http://localhost:3000/API/logout",{}).then((function(s){t.$router.push("/")}))}},Ls=Hs,Js=Object(c["a"])(Ls,Us,Ds,!1,null,null,null),Rs=Js.exports;a["a"].use(p["a"]);var Ws=new p["a"]({mode:"history",base:"/",routes:[{path:"/admin",component:yt,children:[{path:"customTypes/:id",component:Ot},{path:"customTypes",component:Mt},{path:":customTypeName",component:Rt},{path:":customTypeName/:id",component:Os}]},{path:"/",component:O,children:[{path:"/",component:M},{path:"pages",component:st},{path:"users",component:rt},{path:"login",component:Ms},{path:"logout",component:Rs},{path:":customTypeName/:postId",component:G},{path:":customTypeName",component:R}]},{path:"/admin",name:"admin-posts",components:{default:Rt,admin:Rt}}]});a["a"].config.productionTip=!1,_.a.defaults.withCredentials=!0,a["a"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),new a["a"]({router:Ws,render:function(t){return t(u)}}).$mount("#app")},df7f:function(t,s,e){},f503:function(t,s,e){"use strict";var a=e("df7f"),o=e.n(a);o.a}});
//# sourceMappingURL=app.724987d4.js.map